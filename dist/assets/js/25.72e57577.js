(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{377:function(s,e,t){"use strict";t.r(e);var n=t(42),r=Object(n.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"先看个问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#先看个问题"}},[s._v("#")]),s._v(" 先看个问题")]),s._v(" "),t("ul",[t("li",[s._v("问：查询每个学生每个科目的分数")]),s._v(" "),t("li",[s._v("分析：学生姓名来源于students表，科目名称来源于subjects，分数来源于scores表，怎么将3个表放到一起查询，并将结果显示在同一个结果集中呢？")]),s._v(" "),t("li",[s._v("答：当查询结果来源于多张表时，需要使用连接查询")]),s._v(" "),t("li",[s._v("关键：找到表间的关系，当前的关系是\n"),t("ul",[t("li",[s._v("students表的id---scores表的stuid")]),s._v(" "),t("li",[s._v("subjects表的id---scores表的subid")])])]),s._v(" "),t("li",[s._v("则上面问题的答案是：")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("select students.sname,subjects.stitle,scores.score\nfrom scores\ninner join students on scores.stuid=students.id\ninner join subjects on scores.subid=subjects.id;\n")])])]),t("ul",[t("li",[s._v("结论：当需要对有关系的多张表进行查询时，需要使用连接join")])]),s._v(" "),t("h1",{attrs:{id:"连接查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接查询"}},[s._v("#")]),s._v(" 连接查询")]),s._v(" "),t("ul",[t("li",[s._v("连接查询分类如下：\n"),t("ul",[t("li",[s._v("表A inner join 表B：表A与表B匹配的行会出现在结果中")]),s._v(" "),t("li",[s._v("表A left join 表B：表A与表B匹配的行会出现在结果中，外加表A中独有的数据，未对应的数据使用null填充")]),s._v(" "),t("li",[s._v("表A right join 表B：表A与表B匹配的行会出现在结果中，外加表B中独有的数据，未对应的数据使用null填充")])])]),s._v(" "),t("li",[s._v("在查询或条件中推荐使用“表名.列名”的语法")]),s._v(" "),t("li",[s._v("如果多个表中列名不重复可以省略“表名.”部分")]),s._v(" "),t("li",[s._v("如果表的名称太长，可以在表名后面使用' as 简写名'或' 简写名'，为表起个临时的简写名称")])]),s._v(" "),t("h1",{attrs:{id:"练习"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习"}},[s._v("#")]),s._v(" 练习")]),s._v(" "),t("ul",[t("li",[s._v("查询学生的姓名、平均分")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("select students.sname,avg(scores.score)\nfrom scores\ninner join students on scores.stuid=students.id\ngroup by students.sname;\n")])])]),t("ul",[t("li",[s._v("查询男生的姓名、总分")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("select students.sname,avg(scores.score)\nfrom scores\ninner join students on scores.stuid=students.id\nwhere students.gender=1\ngroup by students.sname;\n")])])]),t("ul",[t("li",[s._v("查询科目的名称、平均分")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("select subjects.stitle,avg(scores.score)\nfrom scores\ninner join subjects on scores.subid=subjects.id\ngroup by subjects.stitle;\n")])])]),t("ul",[t("li",[s._v("查询未删除科目的名称、最高分、平均分")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("select subjects.stitle,avg(scores.score),max(scores.score)\nfrom scores\ninner join subjects on scores.subid=subjects.id\nwhere subjects.isdelete=0\ngroup by subjects.stitle;\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);